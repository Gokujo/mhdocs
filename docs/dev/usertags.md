# Пользовательские теги

**Ссылка на
разработку**: [<i class="fa-thin fa-paperclip"></i> Перейти к разработке](https://devcraft.club/downloads/polzovatelskie-tegi.12/)

**Версия модификации**: <i class="fa-duotone fa-code-branch"></i> 2.0.0

## Установка

1. Для установки достаточно закинуть в корень сайта все файлы и запустить скрипт установки (
   сайт.ру/install.php?action=install).
1. В админпанеле устанавливаем для пользователей доп. поле:

- **Название:** любое
- **Описание:** любое
- **Тип:** список
- **Значение по умолчанию:**

  onsend|При отправке на проверку

  onadd|При добавлении в новость

  ondel|При отказе добавлять

  all|Уведомлять обо всём

  none|Не присылать уведомления
- **Добавить на страницу регистрации?:** Да (на ваше усмотрение)
- **Поле может быть изменено пользователем?:** Да
- **Сделать это поле личным?:** Да


3. В админпанеле настройте скрипт под себя.
4. Открываем файл шаблона полной новости (**fullstory.tpl**) и в любое место добавляем следующую строку:

```html
{include file="/engine/modules/maharder/tagsadd.php?newsid={news-id}&focus=XXX"}
```

5. Вместо **XXX** вписываем:

- **button** - для вывода кнопки
- **modal** - для вывода модального окна
- **functions** - для вывода функций


6. Ещё можно дописать параметр **nameN**. Так будут называться ключевые функции для окон и кнопок.
7. Внешний вид всего настраивается в 3ёх шаблонах, что находятся в папке **ШАБЛОН/modules/tagsadd**. Настраивайте под
   себя. Важный аспект в файле с модальным окном: если изменяете его, то помните, что форме нужны те-же названия полей и
   адрес исполнения.
8. **Поддерживаемые теги в шаблонах:** button.tpl

- **{name}** - по умолчанию tagsadd. Глобальное название кнопок и функций
- **{button}** - текст кнопки. Указывается в настройках


9. **Поддерживаемые теги в шаблонах:** modal.tpl

- **{name}** - по умолчанию tagsadd. Глобальное название кнопок и функций
- **{AJAX}** - ссылка на папку site.ru/engine/ajax
- **{news-id}** - ID Новости
- **{user-id}** - ID текущего пользователя


10. **Поддерживаемые теги в шаблонах:** js.tpl

- **{name}** - по умолчанию tagsadd. Глобальное название кнопок и функций
- **{AJAX}** - ссылка на папку site.ru/engine/ajax
- **{THEME}** - актуальная папка шаблона сайта

